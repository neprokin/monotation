# üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üì± –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è

**Marketing Version:** `1.0`  
**Build Number:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ git –∫–æ–º–º–∏—Ç–æ–≤  
**–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:** `v1.0 (N)` –≥–¥–µ N ‚Äî build number

---

## üî¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Build Number

Build number **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–º–º–∏—Ç–æ–≤ –≤ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–æ–π** –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç `monotation/Scripts/auto-increment-build.sh`
2. –°–∫—Ä–∏–ø—Ç —Å—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–º–∏—Ç–æ–≤: `git rev-list --count HEAD`
3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —ç—Ç–æ —á–∏—Å–ª–æ –∫–∞–∫ `CURRENT_PROJECT_VERSION`

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- ‚úÖ **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:** –ö–∞–∂–¥–∞—è —Å–±–æ—Ä–∫–∞ –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä
- ‚úÖ **–ü—Ä–æ—Å–ª–µ–∂–∏–≤–∞–µ–º–æ—Å—Ç—å:** Build number —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ git
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–º:** –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å
- ‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** iOS –∏ watchOS –≤—Å–µ–≥–¥–∞ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π build number

---

## üéØ –ì–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è

### iPhone (iOS):
- **TimerView:** –ø—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª —ç–∫—Ä–∞–Ω–∞
- –§–æ—Ä–º–∞—Ç: `v1.0 (45)` ‚Äî –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ç–µ–∫—Å—Ç

### Apple Watch (watchOS):
- **MainView:** –ø–æ–¥ –∫–Ω–æ–ø–∫–æ–π Play
- –§–æ—Ä–º–∞—Ç: `v1.0 (45)` ‚Äî –∫—Ä–æ—Ö–æ—Ç–Ω—ã–π —à—Ä–∏—Ñ—Ç (size 8)

### –ö–æ–¥:
```swift
// monotation/monotation/Utilities/AppVersion.swift
// monotation/monotation Watch App Watch App/Utilities/AppVersion.swift

struct AppVersion {
    static var versionString: String {
        let version = Bundle.main.infoDictionary?["CFBundleShortVersionString"] as? String ?? "1.0"
        let build = Bundle.main.infoDictionary?["CFBundleVersion"] as? String ?? "1"
        return "v\(version) (\(build))"
    }
}
```

---

## üîß –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏

### –ò–∑–º–µ–Ω–∏—Ç—å Marketing Version (1.0 ‚Üí 1.1):

**–í Xcode:**
1. –í—ã–±–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç **monotation** (—Å–∏–Ω—è—è –∏–∫–æ–Ω–∫–∞)
2. –í—ã–±–µ—Ä–∏ target **monotation** (iOS)
3. –í–∫–ª–∞–¥–∫–∞ **General**
4. –ò–∑–º–µ–Ω–∏ **Version** —Å `1.0` –Ω–∞ `1.1`
5. –ü–æ–≤—Ç–æ—Ä–∏ –¥–ª—è target **monotation Watch App**

**–ò–ª–∏ —á–µ—Ä–µ–∑ project.pbxproj:**
```bash
# –ù–∞–π—Ç–∏ –∏ –∑–∞–º–µ–Ω–∏—Ç—å
MARKETING_VERSION = 1.0;
# –ù–∞
MARKETING_VERSION = 1.1;
```

### –ò–∑–º–µ–Ω–∏—Ç—å Build Number –≤—Ä—É—á–Ω—É—é:

**‚ö†Ô∏è –ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç!

–ù–æ –µ—Å–ª–∏ –æ—á–µ–Ω—å –Ω—É–∂–Ω–æ:
```bash
# –í project.pbxproj –Ω–∞–π—Ç–∏ –∏ –∑–∞–º–µ–Ω–∏—Ç—å:
CURRENT_PROJECT_VERSION = 45;
```

---

## üöÄ Build Phase Script (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Xcode)

**üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–∞ –≤ Xcode:**

1. –û—Ç–∫—Ä–æ–π –ø—Ä–æ–µ–∫—Ç –≤ Xcode
2. –í—ã–±–µ—Ä–∏ **monotation** (—Å–∏–Ω—è—è –∏–∫–æ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞)
3. –í—ã–±–µ—Ä–∏ target **monotation** (iOS)
4. –í–∫–ª–∞–¥–∫–∞ **Build Phases**
5. –ù–∞–∂–º–∏ **+ ‚Üí New Run Script Phase**
6. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π –≤ **"Auto Increment Build Number"**
7. **–ü–µ—Ä–µ—Ç–∞—â–∏ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –í–´–®–ï "Compile Sources"** (–≤–∞–∂–Ω–æ!)
8. –í –ø–æ–ª–µ **Shell Script** –≤—Å—Ç–∞–≤—å:

```bash
# Auto-increment build number based on git commits
bash "${PROJECT_DIR}/monotation/Scripts/auto-increment-build.sh"
```

9. **–ü–æ–≤—Ç–æ—Ä–∏ –¥–ª—è target "monotation Watch App"**

### ‚ö†Ô∏è –í–∞–∂–Ω–æ:

- –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–í–´–®–ï** —Ñ–∞–∑—ã –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –ò–Ω–∞—á–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è build number –Ω–µ –ø–æ–ø–∞–¥—É—Ç –≤ —Å–æ–±—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏

### –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–º–∏—Ç–æ–≤ (= –±—É–¥—É—â–∏–π build number)
git rev-list --count HEAD

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â–∏–π build number –≤ –ø—Ä–æ–µ–∫—Ç–µ
grep "CURRENT_PROJECT_VERSION" monotation/monotation.xcodeproj/project.pbxproj
```

### –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:
- –ó–∞–ø—É—Å—Ç–∏ –Ω–∞ iPhone ‚Üí —Å–º–æ—Ç—Ä–∏ –≤ –ø—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª
- –ó–∞–ø—É—Å—Ç–∏ –Ω–∞ Apple Watch ‚Üí —Å–º–æ—Ç—Ä–∏ –ø–æ–¥ –∫–Ω–æ–ø–∫–æ–π Play

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–µ—Ä—Å–∏–π

### v1.0 (1) - Initial Release
- –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –º–µ–¥–∏—Ç–∞—Ü–∏–∏

### v1.0 (2) - Bug Fixes
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ countdown –ø—Ä–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —ç–∫—Ä–∞–Ω–µ Apple Watch
- –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–∞—Ö

### v1.0 (N) - Current
- N = —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ git –∫–æ–º–º–∏—Ç–æ–≤
- –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç build number

---

## üîÑ CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ CI/CD –æ–∫—Ä—É–∂–µ–Ω–∏–∏:
- GitHub Actions
- Bitrise
- fastlane

–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ: –Ω–∞–ª–∏—á–∏–µ `.git` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∫–æ–º–º–∏—Ç–æ–≤.

---

## üÜò Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Build number –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ Build Phases
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –í–´–®–ï —Ñ–∞–∑—ã –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
3. –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ: `chmod +x monotation/Scripts/auto-increment-build.sh`
4. –°–¥–µ–ª–∞–π Clean Build Folder (‚áß‚åòK)

### –ü—Ä–æ–±–ª–µ–º–∞: Build number = 0

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏–ª–∏ –Ω–µ—Ç –∫–æ–º–º–∏—Ç–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
```bash
git rev-list --count HEAD  # –¥–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ —á–∏—Å–ª–æ > 0
```

### –ü—Ä–æ–±–ª–µ–º–∞: –†–∞–∑–Ω—ã–µ build numbers –Ω–∞ iOS –∏ watchOS

**–ü—Ä–∏—á–∏–Ω–∞:** –°–∫—Ä–∏–ø—Ç –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏–∑ targets

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å —Å–∫—Ä–∏–ø—Ç –≤ Build Phases –¥–ª—è –û–ë–û–ò–• targets

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `monotation/Scripts/auto-increment-build.sh` ‚Äî —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞
- `monotation/monotation/Utilities/AppVersion.swift` ‚Äî iOS —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏
- `monotation/monotation Watch App Watch App/Utilities/AppVersion.swift` ‚Äî watchOS —É—Ç–∏–ª–∏—Ç–∞
- `monotation/monotation.xcodeproj/project.pbxproj` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ—Ä—Å–∏–π

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-07  
**–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** v1.0  
**–ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç:** ‚úÖ –í–∫–ª—é—á–µ–Ω

